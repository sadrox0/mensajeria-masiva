<Window x:Class="SIDM.Receiver.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="SIDM - Terminal" Height="420" Width="600"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        Topmost="True" ShowInTaskbar="True" WindowStartupLocation="Manual">

    <Window.Resources>
        <SolidColorBrush x:Key="ColorGuinda" Color="#9F2241"/>
        <SolidColorBrush x:Key="ColorDorado" Color="#BC955C"/>
        <SolidColorBrush x:Key="ColorGris" Color="#58595A"/>

        <Style x:Key="BotonAceptar" TargetType="Button">
            <Setter Property="Background" Value="#1E8449"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" CornerRadius="20">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border Name="MainBorder" Background="#F8F9FA" CornerRadius="20" BorderBrush="{StaticResource ColorDorado}" BorderThickness="2">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.4" Color="Black"/>
        </Border.Effect>
        
        <Grid>
            <Grid Name="GridAlerta" Visibility="Visible">
                <Grid.RowDefinitions>
                    <RowDefinition Height="60"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="80"/>
                </Grid.RowDefinitions>

                <Border Name="HeaderBar" Grid.Row="0" Background="{StaticResource ColorGuinda}" CornerRadius="18,18,0,0" MouseLeftButtonDown="HeaderBar_MouseLeftButtonDown">
                    <Grid Margin="20,0">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock Text="🛡️" FontSize="18" Margin="0,0,10,0"/>
                            <TextBlock Text="SISTEMA DE DIFUSIÓN INSTITUCIONAL" 
                                       Foreground="White" FontWeight="Bold" FontSize="14" 
                                       VerticalAlignment="Center" />
                        </StackPanel>
                        <Button Content="—" HorizontalAlignment="Right" Width="40" Background="Transparent" Foreground="White" BorderThickness="0" FontSize="20" Click="BtnMinimizar_Click" Cursor="Hand" Opacity="0.8"/>
                    </Grid>
                </Border>

                <StackPanel Grid.Row="1" Margin="30,20">
                    <TextBlock Name="txtPrioridad" Text="NIVEL DE PRIORIDAD" FontSize="14" FontWeight="Bold" Foreground="{StaticResource ColorDorado}" HorizontalAlignment="Center" Margin="0,0,0,5"/>
                    <Border Background="{StaticResource ColorGris}" Height="2" Width="40" HorizontalAlignment="Center" Margin="0,0,0,15" Opacity="0.3"/>
                    
                    <ScrollViewer VerticalScrollBarVisibility="Auto" MaxHeight="160">
                        <TextBlock Name="txtMensaje" Text="Esperando mensajes oficiales del C5..." FontSize="20" 
                                   FontWeight="SemiBold" TextWrapping="Wrap" TextAlignment="Center" Foreground="#2D2D2D" FontFamily="Segoe UI Semibold"/>
                    </ScrollViewer>
                </StackPanel>

                <Border Grid.Row="2" Background="#EEEEEE" CornerRadius="0,0,18,18">
                    <Button Content="RECIBIDO Y ENTENDIDO" Width="220" Height="45" 
                            Style="{StaticResource BotonAceptar}" FontWeight="Bold" FontSize="14" 
                            Click="BtnOk_Click" Cursor="Hand"/>
                </Border>
            </Grid>

            <Grid Name="GridBurbuja" Visibility="Collapsed" Cursor="Hand" Background="Transparent" MouseLeftButtonDown="GridBurbuja_MouseLeftButtonDown">
                <Grid Width="90" Height="90" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Ellipse Name="EllipseBurbuja" Fill="{StaticResource ColorGuinda}">
                        <Ellipse.Effect>
                            <DropShadowEffect BlurRadius="15" ShadowDepth="2" Opacity="0.3"/>
                        </Ellipse.Effect>
                    </Ellipse>
                    
                    <Ellipse Fill="Transparent" Stroke="{StaticResource ColorDorado}" StrokeThickness="3" Margin="5"/>
                    <TextBlock Text="🔔" FontSize="36" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,4"/>
                    
                    <Border Name="BadgeAlerta" Background="Red" CornerRadius="12" Width="28" Height="28"
                            HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,2,2,0"
                            Visibility="Collapsed" BorderBrush="White" BorderThickness="2">
                        <TextBlock Text="!" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center"
                                   FontWeight="Black" FontSize="16"/>
                    </Border>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>